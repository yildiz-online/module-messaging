sudo: required

language: generic

git:
  depth: false

dist:
  xenial

cache:
  directories:
    - $HOME/.m2

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
  - secure: uuAk6cBCTjMMa4F18LNDuJms2j/FOKqxFNwPxeqHNSHpHc+yWDc2K9XQ6uwY1N2Qi1ql7bGWn5ZAURx9BPq5xAzA+2Xij/KkSkg++T/99yzn46KVrNfuu6yCo2A3ANwPj0i483F3qZBktr8xMglaO08Ae0aRu/AFUx/dcwiMKruebPoYjNwKu9km36DDwq0o5vRSIX8bhbKcYAHvtlXnkVMikCAEAGmE0DvAD/Hgo6hy0xt6EVlXoCO6ga5KasI8PQAOuoizbGBZQqHoP8x0Y5ai1OI3/ZP02g9NitdiGweRsHZQgyyFlTuy7HYSIMyF0SSVmTSXbTEKSvJNg6dxv+mWp5u1dYUeonWmSfv6zDVubzNmDBN0Ivx2VGik7GIlijM5oCG0aGSs2pn8h0gCAgEHZ/R3w+e0vPw4Q653sMtrawCx7J0wdoSW57rfW7mITY7U61JyCyknygUm35ptAAq8Gcxo7SpYM/gAr6iKG2raUvA8oRRis9u+YQDq8fkhiTHSqOPohtrtCg5RoxcW2ggVAtiDi/rRELzifvt0rhMspbeqE+p5IpWr5qptKelnyFLt7qyOKIFGSjCAxiHlB53OCOVz2e0i8yXLfXzjZCvcSpljUZZF8bx3C0SoW6U8buBqG3pDRZ7i8Zt+VZpF+5XyVoAaXVYE/zXf5uD2FXs=
  - secure: X6/bGBimBYKvo7zyFZfL6V1Tw32g9qQnNn9HXebMDXeR6lBzPVYagLWvfUaKbnPmOy8xBez30PUnYN6Iszm2IryIb6X6smPVvwH0Zd5/XQ9pGPzx8N/B4Mqq8lbMGWH9CdQfoBmqhMGsyzvGg6iFUXrDZtcvR1ytSNZujgG/LR6rogmxtMOxv6Qcd+4jORCdsqCSuuEZykZTNjJ8aa18MkvgmR78BvI/YNGRbL4UOmh6HDd8taWzjarbzHQpSH+8IUO99nlHIgrwyNypLnrr8TqoTN8YQ0A+tTaGoZyFwsZjmWzK1kVVgU3MfF8Sz+YqNW9X6j7KhHWyA5ORoitIVUUySKykqa8n6pVItve+TOivBv7ceFoZc8bBD2QOhAsPhPa7pkuSI2cbHdUHx0uHkKujNTSjBF5Om2JqiKYpjWPoRLwywsUGMk89ZAyNJ1Ei/J+Bt9uDItPBZYYnGB9KfrU+1BEeIyUXGQFjJDJbizhO/Uz5GAtGUNIcl7KXzpJEiiP+NYEs9fV4oH/zK4rlhr18nxx2M7OZjm4XbsfP6dtEchOl3GigmwikPsoJ1YHilcdze2oR7Ewbp95z5C2gjm1L26LBXMSJ476HiMPbpGOnkBHnUdqSEb+NSQ/thW1mWgTvCtTDJtYbDp8BfVl07HivMo8QO6s6Jv9MFKHv6nk=
  - secure: TLkjrcLCIeEuCMHtaYYA7wf6ud1Cge5uGxN8XBVQ7XHq53mjQp0acS01g2Za+tnSinibKPLpzEN/1iLglq3jskEgz7+781WoOtKD/tsgLkst7qJP3RKuGTOj+J2KdGci4lP5sfzWhyyfBi0lVBY6qk873FOscZR50Dgg6UX8OnOLvRdljTnxfHj3x2hrU/7esA1F+U1mRL2dn8y85i8NembtaQzFOu1fGdrEAGQTX2R8ZfLGkq5tOYWIblmOH8LAVlTzbsgAtHTBGMs/V5Ibfcu2Au2XjU1x9LDw8v+xzEbp9NinUDYe3+GKI5mJ/TcOF4dti2sAaQfn1sSjQc26WSEFoJiMAR6GuhGRtBoOFVT9uSrKZbecBtRr3HzmoZizu06tnljGnste6x3zhdZX1/u7FlTtHIV0s0LtKP9rs012fejUiraSb9jVKhgt8nNdIFjBYc2s1eZAu9Kof0FUL7ItxSGLxN0nM3vR+VjdDkexPR9m3xiZg+LaoH/1oGSageRPmUQP4MniedxeS4moX/ZkBr2it3GJ9McdGuzafBwYwXki3vZC0Jdi6Zxgi+YAiiTAeAvBHOHqPnRinDpaIqmxfpFyvaqB+29EPZjsiyB0Q6bXxSADvc2Y+P0p7hDlQsyHbxUJX/oXb5pq3NELM8rwq7DZS6TVvUNqMMtOuLA=
  - secure: fIlcI3UmzxEcFJHTurUSM45knMg2mRr0V9BRKoE/GLfHcpWohwn2SJnpdh5m77aY8angOqwbyny7wFJeSYSHQwmQPB9rFlunn7cDzukKWSJ81m5aq0WTUhluKueU9rSG2pggfAROcVTY2vgkDFHxiQ9PFQA/qKHrSXHanyqiY/OtFaB+msOgL4odxNKrVi1N72cX5tHQgh1pF5YmNpezpXqR8e8JXfGXd2hm5Q40XO6PyQ1zsK+KBCpeTFdv4JrYxcKv3XA6MaHh2AxVVM/5tOLaB2ZNvg88oqQOQuIibZLHeJfI1qFRVlYjTLmi0XwlQmDcKxXfRsO0NErPbFfChyq7w9vo9r6Q0XbPqmDgUZPGjBTfFoYaI/M3LPQnu1gLGGGBn/QknSuMHknQtZZ8sLBehkcFIbBq2SRajIg7MBpXsZr4+KmKmgmsf5iipSi9axJ5Xj3OCgqHXTbSN1vCEgt+nELi1oLXk+9mpUKMDGvp1nxO2OSyBCSrlRf3yV4n5i1oWomyWJMhiEXQax5TThWsxcuANKG7ML96QLy5jHAfZE2WrTFoU+CFRPirpVALKRdHqFQrpNVlfnL7ZNM855U2lz+5A6YQ8/43/SHcV1PM0jPnxXTElIt5QHsXGFP5bzJNWLlaW5mLJAbY98B9RYQLDkoPJDddg34MFzZlAbw=
  - secure: POnoIrK5tF5RRbBpUlLQqffvoJ2V2U32NF0lLVlFoNDTJNPoBf8cW6p4Ex2VjgwkEAFZmE4UW5RL/j53TD/Zz3WcKGcEa7/itiw864fMbYEmaG2qaB3P4MAFJmkY1GmP0n98/TmF/ISfaYuB3D+Whin9EGwQQJ7ZEr8lw749VFioTDlfaAxiLL4GiqmPJlHvLqPeGxhMl/wRVjnhe9Rd7+8FiincoAON19wRU8IUtg2eT6jtNrCmMQa3o6JHB/mXT0Kzko6hbbj/LEJ7UTukCHUG86pCo4vNVblbeS0oksljol4h20qiBxsCnBohK0kjZ+0Afq3ge0iZpoK/zy91DkjNI3sUHdIXxD5nb/bPio6Epxxjx0vNIzy3ZG9ms3E3JF+n4+6buW+XrK50CiMnjVwpxWsWiDwtBVq7bPbiWLm+nU6c/Ug08kkuJq6p3q2NvnpLTK6rRE2yHPgaKeqxhOXx/mWZmGqD6D5TKTaBNrWdHp7wFXEa8A3g7WolsTTTGtFVjXbJrybZUI1xNvVCuuVOXpoIkIeqs7ekCGRd5cku9bHZVHVdQgJHHfQmxAWkA6Asz6k+IGt1sjXLxWDPa6Js9kGPU5IBID8ngUH64Z0TFqb5o62T5TsTmaGCQO49JyQP8DBx8DGs33JT4o7igxiUf57FGcs/zKE28/W3OJA=
  - secure: tlO9h2unO/B07RquIyezx6/Yzo4sDDhqIhEVqBsY5Mpuv2dg5bG1SxHdA7Xp3jeG24p6ufvn3Pslz0dGGTJypoJr+vk/k8dc6FxkfIFrRhMEcHEDDJAQgEypdEdV0WMxV0YQbcTVvRO0BxUn1ccde9jSQKHjgvzCdZloXHtnj4/FKTX6vVbdvysrD7/76RajKvHJpbN0lHzLpzEG9+rvvHaeFeRuwdrXP7jU/aQH7HGbtug+ufs5noJ77Bttdb13ylxjD+y9coVJkE6QeIj239netGjO2JLePpH4U29BVm4cWZ32tdn6lNQdgw6Ip0XkshAvTyqSSHKi1Ti0lpsNs78nHy7OdqphEQY6tJNOVp1kvVOh+9oGG5QB9jRQUfywTBR7FTRb4+Q2VBh0bSRoAVLYIFpmUnwqCF4A7GRnuTyoTHjFiuj+Zmub14tD6TgHkp1TKUNpJTTrxxvrl6m3VuYKtegAWAroutUI5gOo36cbOcwPvZ2jinsvORurXtLHwTmM/N/0sepqC4oblRCwft8Xkpsxmwct0DXIH3hGZVpvgY4x+zNTRpyFXe59+gTFZo0cB5UPqwbX5k3211YU4vNI0646/at+bt/bl+6lPZLRawv9ad0thDmG11fiOiSgAVm2ZDHmjnyUvu9JhF/3ukcxTiurYGGQhBzEkHIXtus=
  - secure: EL1Lucxg2q/QcW2OYioB20G6YGCRfg6GOaXQyR5lcingvBjclu8lJTdBZ6mr0OGxXkp86IHczRUi+ePJUyJ/VL6jMyXq0Zp8Nz1U0Qqf/Hlv+UGfvVfqfBnL841VmtTcT5wBt1VJ6BRbRyXIGh7MCpITNlUlMa9H1dkEC1go44bbLYFgt6HG5ST3R8KBju3QwJ0/KdzoXuvfX7dKAfD9CynofkWEan6bZcHSc6fn9Cqh6aTN6SkPd9tuK1QsYiWXnyrJK3qKe5yJIv1dU5V1phwk+OQLNpevNNMNpW7MoQS74R0AQCDsSYfWUgjkN9gw2mquNYHpXW2yQqgg/edBNjR0rjjreofkXHvV2nZGLmde5Uzne14Sg96x9Q+osPCqfy99N9dTLsxBjS7ze1lUzcP2XT4kz6FAy4vhamtYyC95y28DhyYmZsJr5m6kg3dPWVemz4/J+rlGT7YNkmk+/wePekWLrHfa3Tv7Pp4CGFNwXIhzLh8r3iW5s8pOPx/s2fiR/Jbl3I6OYkWCT0G7EqhIy6afTNpNk7HNqWnkKdCS0gZfZPMfmNxnMrmUiaJuAj9NKX9BhLpnuAhsvsHUGgThSBjEmM/Za+KQljrywSsaj6M7hNngtyJDGJQ/TppZw39vtelvklMmPYy9gSUUNxQYz1dwJtUtpg3oUHovr98=
  - secure: mKEzZgpPwMArA7D7TWduTInMAbsbFefXPUJoLWW/imc8yq3V8MmhujlV6y6KTzk8xO3hjQhF0p0fq8WCTZAZ3vc/RTVa7UnW586bApqYQgG8djZm3RqJtQHkKFUe0CoBg10lCkcH+JxM/6NHN68iMg6WbyeAbp6fvl14UmnDOHqFvtJoE4WNpedMiQTDRpk8YSiL/olrsQbVdiVeqjzk/qKLuvH05Dz4DA3gs1/rvS/LgN+YCWHgHYXYgzBgaZ9j9yizRj5yw9kFTwAhMpA93Sl9S31HQT6Js70EryoJnf297vMbZ9GXSRGUFuq+qN07vT0FCv3igzh78/7h6SkmLu8wYNnUUtXgnHttripwiFrLoWaFNKPQJtaB5++SxXej+G+auNkoyXh7SNkroiFjQJ/G/BvgsmKCenq1Y9s74XG4uI93pf9PIO3uzPmYcUjXLJ7XLVuPOASFUqeP+MPLW2C3y6Y2NA9NS2vRf63/eWm/b9k8UOWNbFN9+wjMP1XxmO+3gdDGksBb7zhA6lcGKfPfTv9DNQGyCLOH/1sG9Q7zjmnczVIlO71rH5I/QZEhAZzqxY/9OO6OQnYZRQTifxyMNlPRYs+IzgzpxL6SH/O7180r4geJL/mn8Eg1iBjZtd8e5MMCyz4Tb3pMyyMVG7lWs+BnLa2yFhYxEjoK6qU=
  - secure: RuuuF7oYfDgUUwjja4xDEBuH/r6ZdTlyBJ0FZ8fJ/zWP+eyDAyPaBJmqQc7o53dDW6SbRw+ldcx3EQV/n/03Y8mwV1LtKGNVRjXn7167mooZIKGKLvk+7s/wpjkCAtYpPvIv0nymkvnDNcKzOyQQQVZ0yw+24YlG2vIRPhY4O16wsGY5AGZVMxTBbNnmG8lM5Nz23GDl5uRE4/z5/2kNIRwqguCy8O5yKQxB7zke7CvBYMFqM8J/ds8q7VVknDGDWzthHMudhqelZ+nHpGlSELxtlCyVYg6S2uwmV55w5IJpJAQv67gvBsvO6W7+BxBvwVE2Vb7Qr6ZZfiKbP12eDeXn9XRR5Lj+Hti0phC0kodPCqN+yHAPNeo0Tqi+AoN+yGzg0/rg3ToXrFB91PvhhR6FQq0m2cZMTHTN9pA2BK9zJB5J1cKF5cCY0y2xuU5I5LO135qBXw1PnASJl8GBVoGWeHel3NBNa8/nMTkNqvek/jRk1S2hhC3/28okBCRQl8Ttx3Tl1zw+24MMMY1Hf59l5VIKjwFHrjVMx67O5dNCodj7bh+rP1L7xBBixjOvS+PMB5Ps52B9KmIB9MOVvu90UANRiBgtNcsYWQW+JElRiN5c2zV7UAV3Kyh2/Va8imodOwdPLOjlex6FgAT9P57ZQ/jrJt1vpm8oC88rZUA=

script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -v $HOME/.m2:/root/.m2 -e USER_REPO=$USER_REPO -e USER_PASSWORD=$USER_PASSWORD -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION moussavdb/build-java ./deploy-maven-central.sh
